<link rel="import" href="../bower_components/paper-button/paper-button.html">

<dom-module id="x-login">
  <template>
    <style>
      :host {
        display: block;
        @apply(--layout-fit);
        @apply(--layout-vertical);
        @apply(--layout-center);
        @apply(--layout-center-justified);
        background: var(--paper-blue-500);
        color: white;
        text-align: center;
      }

      h1 {
        font-size: 72px;
        text-align: center;
        margin: 16px 0 0;
      }

      h2 {
        color: rgba(255,255,255,0.87);
        font-size: 24px;
        text-align: center;
        font-weight: 300;
        margin: 8px 0 48px;
      }

      img {
        vertical-align: top;
      }

      #bigimg {
        display: block;
        margin: 0 auto 16px;
        width: 260px;
        height: 260px;
      }

      paper-button {
        background: var(--paper-blue-700);
        color: white;
        padding: 16px 32px;
      }

      a {
        color: white;
        font-weight: bold;
        text-decoration: none;
      }

      p {
        margin: 8px 0;
      }

      p.small {
        font-size: 12px;
        color: rgba(255,255,255,0.7);
      }
      p.small a {
        font-weight: normal;
        color: rgba(255,255,255,0.7);
      }
    </style>

    <img id="bigimg" src="https://twemoji.maxcdn.com/2/svg/1f60d.svg">
    <h1>Teamoji</h1>
    <h2><img src="https://twemoji.maxcdn.com/2/svg/23f2.svg" width="24" height="24"> Team Status <img src="https://twemoji.maxcdn.com/2/svg/1f680.svg" width="24" height="24"></h2>

    <paper-button on-tap="login" raised>Sign in with Google</paper-button>

    <div id="space"></div>
    <p>powered by <a href="https://firebase.google.com/" target="_blank">Firebase</a>
    <p class="small"><a href="http://twemoji.maxcdn.com/" target="_blank">Twemoji</a> used under <a href="https://creativecommons.org/licenses/by/2.0/" target="_blank">CC-BY</a></p>
  </template>
  <script>
    Polymer({
      is: 'x-login',
      properties: {
        user: {
          type: Object,
          notify: true
        },
        entryAnimation: {
          type: String,
          value: 'slide-from-bottom-animation'
        },
        exitAnimation: {
          type: String,
          value: 'slide-down-animation'
        }
      },
      ready: function() {
        var auth = firebase.auth();
        firebase.auth().addAuthStateListener(function(state) {
          this.user = state.currentUser;
        }.bind(this));
      },
      login: function() {
        firebase.auth().signInWithPopup(new firebase.auth.GoogleAuthProvider());
      }
    });
  </script>
</dom-module>
